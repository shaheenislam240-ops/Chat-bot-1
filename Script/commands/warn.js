// In-memory status
let warnStatus = true; // Default ON

module.exports.config = {
    name: "warn",
    version: "1.3.0",
    hasPermssion: 2,
    credits: "rX + Modified by Maria",
    description: "War warning in group chat (Bangla version) with ON/OFF",
    commandCategory: "group",
    usages: "warn @mention / warn on / warn off",
    cooldowns: 10
};

module.exports.run = async function({ api, event, args }) {
    const ADMIN_UID = "100068565380737","61578848926124"; // à¦¶à§à¦§à§ à¦à¦‡ UID à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡
    if (event.senderID !== ADMIN_UID) {
        return api.sendMessage("âŒ à¦¶à§à¦§à§à¦®à¦¾à¦¤à§à¦° rX Abdullah à¦à¦‡ à¦•à¦®à¦¾à¦¨à§à¦¡ à¦šà¦¾à¦²à¦¾à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡à¦¨!", event.threadID, event.messageID);
    }

    // ON/OFF system
    if (args[0] === "off") {
        warnStatus = false;
        return api.sendMessage("âš ï¸ Warn à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦¬à¦¨à§à¦§ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡!", event.threadID);
    }

    if (args[0] === "on") {
        warnStatus = true;
        return api.sendMessage("âœ… Warn à¦¸à¦¿à¦¸à§à¦Ÿà§‡à¦® à¦šà¦¾à¦²à§ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡!", event.threadID);
    }

    if (!warnStatus) {
        return api.sendMessage("âš ï¸ Warn à¦¬à¦°à§à¦¤à¦®à¦¾à¦¨à§‡ à¦¬à¦¨à§à¦§ à¦†à¦›à§‡!", event.threadID);
    }

    // Mention
    const mention = Object.keys(event.mentions)[0];
    if (!mention) return api.sendMessage("âš ï¸ à¦•à¦¾à¦°à§‹ à¦¨à¦¾à¦® à¦Ÿà§à¦¯à¦¾à¦— à¦¦à¦¾à¦“ warn à¦•à¦°à¦¾à¦° à¦œà¦¨à§à¦¯!", event.threadID);

    const name = event.mentions[mention];
    const arraytag = [{ id: mention, tag: name }];

    // à¦¸à¦¬ à¦²à¦¾à¦‡à¦¨ (à¦¨à¦¤à§à¦¨ + à¦ªà§à¦°à¦¾à¦¨à§‹) - à¦à¦–à¦¾à¦¨à§‡ à¦•à§‹à¦¨à§‹ double @ à¦¨à§‡à¦‡
    const messages = [
        `à¦à¦‡ à¦¬à§‹à¦•à¦¾à¦šà§‹à¦¦à¦¾ à¦–à¦¾à¦¨à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾...`,
        `à¦¤à§‹à¦¦à§‡à¦° à¦Ÿà¦¿à¦‰à¦¬à¦“à¦¯à¦¼à§‡à¦²à§‡à¦° à¦ªà¦¾à¦¨à¦¿à¦¤à§‡ à¦†à¦¯à¦¼à¦°à¦¨ à¦¬à§‡à¦¶à¦¿ à¦¤à¦¾à¦‡ à¦¤à§‹à¦° à¦¬à¦¾à¦ªà§‡ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦­à¦¾à¦²à§‹à¦­à¦¾à¦¬à§‡ à¦ªà¦¾à¦°à¦² à¦¨à¦¾...`,
        `à¦¤à§‹à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨à¦•à§‡ à¦°à¦¾à¦¸à§à¦¤à¦¾à¦° à¦ªà¦¾à¦¬à¦²à¦¿à¦• à¦¦à¦¿à¦¯à¦¼à§‡ à¦—à¦¨ à¦§à¦°à§à¦¶à¦¨ à¦•à¦°à¦¿...`,
        `à¦–à¦¾à¦¨à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦‰à¦¡à¦¼à§‡ à¦‰à¦¡à¦¼à§‡ à¦•à¦¨à§à¦¡à¦® à¦›à¦¾à¦¡à¦¼à¦¾ à¦šà§à¦¦à¦¿...`,
        `à¦†à¦•à¦¾à¦¶ à¦šà§à¦¦à¦¿à¦²à¦¾à¦®,, à¦¬à¦¾à¦¤à¦¾à¦¸ à¦šà§à¦¦à¦¿à¦²à¦¾à¦®,, à¦šà§à¦¦à¦¿à¦²à¦¾à¦® à¦•à§à¦¯à¦¼à§‡à¦° à¦–à¦¾à¦²...`,
        // ... (à¦¸à¦¬ à¦¨à¦¤à§à¦¨ à¦²à¦¾à¦‡à¦¨ à¦à¦–à¦¾à¦¨à§‡ à¦¬à¦¸à¦¾à¦¬à§‡)
        // à¦ªà§à¦°à¦¾à¦¨à§‹ à¦²à¦¾à¦‡à¦¨à¦—à§à¦²à§‹à¦“ à¦à¦–à¦¾à¦¨à§‡ à¦°à¦¾à¦–à¦¬à§‡
        `à¦¶à§‹à¦¨ à¦›à§‹à¦Ÿà¦²à§‹à¦•à¦—à§à¦²à§‹, à¦¤à§‹à¦° à¦¬à¦¾à¦ª à¦•à¦¥à¦¾ à¦¬à¦²à¦¤à§‡à¦›à§‡!`,
        `à¦¤à§‹à¦° à¦®à¦¾à¦•à§‡ à¦šà§à¦¦à¦¿`,
        `à¦à¦‡ à¦›à§‹à¦Ÿ à¦›à§‹à¦Ÿ à¦¹à¦¾à¦°à¦¾à¦®à¦¿à¦°à¦¾ à¦¬à§‡à¦° à¦¹à¦¯à¦¼à§‡ à¦†à¦¯à¦¼, à¦¤à§‹à¦° à¦¬à¦¾à¦ªà§‡à¦° à¦—à¦¾à¦²à¦¿ à¦¶à§‹à¦¨!`,
        `à¦¤à¦¾à¦¡à¦¼à¦¾à¦¤à¦¾à¦¡à¦¼à¦¿ à¦•à§à¦¤à§à¦¤à¦¾à¦—à§à¦²à¦¾à¦°à§‡ à¦¦à§‡à¦–à¦¾`,
        `à¦¤à§‹à¦° à¦¬à¦¾à¦ªà§‡à¦° à¦†à¦¤à§à¦®à¦¾à¦Ÿà¦¾à¦°à§‡ à¦¦à§‡à¦–à¦¾`,
        `à¦¤à§‹à¦¦à§‡à¦° à¦•à¦¿ à¦¯à§à¦¦à§à¦§ à¦•à¦°à¦¤à§‡ à¦–à§à¦¬ à¦­à¦¾à¦²à§‹ à¦²à¦¾à¦—à§‡?`,
        `à¦¤à§‹à¦¦à§‡à¦°à¦“ à¦§à¦¿à¦•à§à¦•à¦¾à¦°!`,
        `à¦¤à§‹à¦° à¦¬à¦¾à¦ªà¦•à§‡ à¦¯à§à¦¦à§à¦§à§‡à¦° à¦¬à¦¯à¦¼à¦¸ à¦¦à§‡`,
        `à¦¤à¦¾à¦¡à¦¼à¦¾à¦¤à¦¾à¦¡à¦¼à¦¿ à¦†à¦¯à¦¼, à¦†à¦®à¦¾à¦° à¦¸à¦¾à¦¥à§‡ à¦—à¦¾à¦²à¦¿ à¦¦à§‡!`,
        `à¦à¦‡ à¦¬à¦¦ à¦›à§‡à¦²à§‡à¦°à¦¾ à¦•à¦¿ à¦¨à¦¾à¦• à¦¸à¦¿à¦à¦Ÿà¦•à§‡ à¦¤à§‹à¦° à¦¬à¦¾à¦ªà§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§à¦¦à§à¦§ à¦•à¦°à¦¤à§‡ à¦šà¦¾à¦¯à¦¼?`,
        `à¦†à¦®à¦¿ à¦¤à§‹à¦° à¦®à¦¾à¦•à§‡ à¦šà§à¦¦à¦¿`,
        `à¦¤à¦–à¦¨ à¦®à¦œà¦¾ à¦›à¦¿à¦², à¦à¦–à¦¨ à¦¤à§‹à¦° à¦®à¦¾à¦°à§‡ à¦¹à¦¾à¦‡ à¦¤à§à¦²à§‡ à¦–à¦¾à¦‡`,
        `à¦¤à§‹à¦° à¦¬à¦¾à¦ª à¦°â€à§à¦¯à¦¾à¦ª à¦•à¦°à§‡ à¦—à§à¦²à¦¿ à¦•à¦°à§‡ à¦®à¦¾à¦°à¦›à§‡ à¦¤à§‹à¦•à§‡!`,
        `à¦¦à¦¯à¦¼à¦¾ à¦•à¦°à§‡ à¦¬à¦¯à¦¼à¦¸à§‡ à¦†à¦®à¦¾à¦¯à¦¼ à¦–à¦¾à¦“?`,
        `à¦®à¦œà¦¾ à¦²à¦¾à¦—à¦²à§‡ à¦¤à§‹à¦° à¦¬à¦¾à¦ªà¦•à§‡ à¦–à¦¾!`,
        `à¦¤à¦¾à¦° à¦†à¦—à§‡ à§§ à¦®à¦¿à¦¨à¦¿à¦Ÿ à¦¬à¦¿à¦°à¦¤à¦¿ à¦¦à§‡`,
        `à¦…à¦¨à§à¦®à¦¤à¦¿ à¦¦à§‡, à¦†à¦¬à¦¾à¦° à¦¶à§à¦°à§ à¦•à¦°à¦¿!`,
        `à¦ªà§à¦°à¦¥à¦®à§‡à¦‡ à¦¤à§‹à¦•à§‡ à¦‰à¦ªà¦°à§‡ à¦¨à¦¿à¦šà§‡ à¦šà§à¦¦à¦¬`,
        `à¦šà§à¦¦à§‡à¦° à¦›à¦¿à¦¦à§à¦° à¦¥à§‡à¦•à§‡ à¦–à¦¾à¦à¦œ à¦ªà¦°à§à¦¯à¦¨à§à¦¤ à¦¸à¦¬ à¦«à¦¾à¦Ÿà¦¿à¦¯à¦¼à§‡ à¦¦à§‡à¦¬`,
        `à¦¤à§‹à¦° à¦¯à§‹à¦¨à¦¿à¦Ÿà¦¾ à¦®à¦¹à¦¿à¦·à§‡à¦° à¦¯à§‹à¦¨à¦¿à¦° à¦šà§‡à¦¯à¦¼à§‡à¦“ à¦¬à¦¡à¦¼, à¦¯à§‡à¦¨ à¦¨à¦°à§à¦¦à¦®à¦¾à¦° à¦ªà¦¾à¦‡à¦ª!`,
        `à¦†à¦®à¦¾à¦° à¦®à¦¤ à¦¦à§à¦‡à¦œà¦¨ à¦›à§‡à¦²à§‡à¦“ à¦¤à§‹à¦° à¦ªà¦¾à¦›à¦¾à¦¯à¦¼ à¦•à¦® à¦®à¦¨à§‡ à¦¹à¦¯à¦¼!`,
        `à¦†à¦®à¦¿ à¦•à§à¦²à¦¾à¦¨à§à¦¤, à¦†à¦° à¦—à¦¾à¦²à¦¿ à¦¦à¦¿à¦¬ à¦¨à¦¾...`,
        `à¦šà¦² à¦¬à¦¸, à¦¨à¦¤à§à¦¨ à¦—à¦¾à¦²à¦¿ à¦²à§‡à¦–, à¦¯à§à¦¦à§à¦§ à¦šà¦²à§à¦•!`,
        `à¦†à¦®à¦¾à¦° à¦¯à§à¦¦à§à¦§ à¦¶à§‹à¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦§à¦¨à§à¦¯à¦¬à¦¾à¦¦!`,
        `à¦¬à¦¿à¦¦à¦¾à¦¯à¦¼! à¦†à¦¬à¦¾à¦° à¦¦à§‡à¦–à¦¾ à¦¹à¦¬à§‡ à¦ªà¦°à§‡à¦° à¦ªà§à¦°à§‹à¦—à§à¦°à¦¾à¦®à§‡!`,
        `à¦—à§à¦¡ à¦¬à¦¾à¦‡ ğŸ¥º`
    ];

    let delay = 0;
    const gap = 3000; // à§© à¦¸à§‡à¦•à§‡à¦¨à§à¦¡ à¦—à§à¦¯à¦¾à¦ª

    messages.forEach((msg) => {
        setTimeout(() => {
            api.sendMessage({ body: `@${name} ${msg}`, mentions: arraytag }, event.threadID);
        }, delay);
        delay += gap;
    });
};
